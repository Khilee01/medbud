{"ast":null,"code":"var _jsxFileName = \"S:\\\\New folder\\\\medbuddy\\\\src\\\\components\\\\CameraScanner.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CameraScanner = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [medicineInfo, setMedicineInfo] = useState(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [cameraActive, setCameraActive] = useState(false);\n\n  // Start camera automatically when component mounts\n  useEffect(() => {\n    return () => {\n      // Cleanup: stop tracks when component unmounts\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  // Function to start the camera\n  const startCamera = async () => {\n    try {\n      // Stop any existing tracks\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(track => track.stop());\n      }\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: \"environment\"\n        } // Use back camera if available\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        setCameraActive(true);\n        setError(null);\n      }\n    } catch (error) {\n      console.error(\"Error accessing camera:\", error);\n      setError(\"Failed to access camera. Please check permissions.\");\n      setCameraActive(false);\n    }\n  };\n\n  // Function to stop the camera\n  const stopCamera = () => {\n    if (videoRef.current && videoRef.current.srcObject) {\n      const tracks = videoRef.current.srcObject.getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n      setCameraActive(false);\n    }\n  };\n\n  // Function to capture and process the image\n  const captureAndUploadImage = async () => {\n    setIsLoading(true);\n    setError(null);\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    if (canvas && video) {\n      try {\n        // Set canvas dimensions to match the video\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        const context = canvas.getContext(\"2d\");\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n        // Get the image data URL and set it to state\n        const imageDataUrl = canvas.toDataURL(\"image/jpeg\");\n        setCapturedImage(imageDataUrl);\n        canvas.toBlob(async blob => {\n          const formData = new FormData();\n          formData.append(\"image\", blob, \"medicine.jpg\");\n          try {\n            const response = await fetch(\"http://localhost:5000/upload\", {\n              method: \"POST\",\n              body: formData\n            });\n            const data = await response.json();\n            if (!response.ok) {\n              throw new Error(data.message || \"Failed to process the image\");\n            }\n            setMedicineInfo(data);\n            speakMedicineInfo(data.medicine, data.description);\n            setIsLoading(false);\n          } catch (error) {\n            console.error(\"Error uploading image:\", error);\n            setError(error.message || \"Failed to process the image\");\n            setIsLoading(false);\n            speakError();\n          }\n        }, \"image/jpeg\", 0.9);\n      } catch (error) {\n        console.error(\"Error capturing image:\", error);\n        setError(\"Failed to capture image\");\n        setIsLoading(false);\n        speakError();\n      }\n    }\n  };\n\n  // Function to convert medicine name and info to speech\n  const speakMedicineInfo = (name, description) => {\n    if (!window.speechSynthesis) return;\n    const speech = new SpeechSynthesisUtterance();\n    if (name) {\n      speech.text = `The medicine is ${name}. ${description ? \"Description: \" + description : \"No additional details available.\"}`;\n    } else {\n      speech.text = \"Unable to identify the medicine.\";\n    }\n    speech.lang = \"en-US\";\n    speech.rate = 1;\n    window.speechSynthesis.speak(speech);\n  };\n\n  // Function to speak error messages\n  const speakError = () => {\n    if (!window.speechSynthesis) return;\n    const speech = new SpeechSynthesisUtterance();\n    speech.text = \"There was an error processing the image. Please try again with a clearer image.\";\n    speech.lang = \"en-US\";\n    window.speechSynthesis.speak(speech);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-center\",\n      children: \"Medicine Scanner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        className: `w-full max-w-md mx-auto border-2 rounded-lg ${cameraActive ? 'block' : 'hidden'}`,\n        style: {\n          height: \"300px\",\n          objectFit: \"cover\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), capturedImage && !cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Captured Image:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: capturedImage,\n          alt: \"Captured\",\n          className: \"mx-auto border rounded-lg shadow-md\",\n          style: {\n            maxWidth: \"100%\",\n            maxHeight: \"300px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white\",\n          children: \"Processing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center gap-4 mb-4\",\n      children: !cameraActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startCamera,\n        className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg\",\n        children: \"Start Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: captureAndUploadImage,\n          className: \"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg\",\n          disabled: isLoading,\n          children: \"Scan Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopCamera,\n          className: \"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg\",\n          disabled: isLoading,\n          children: \"Stop Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }, this), medicineInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-2\",\n        children: medicineInfo.medicine\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }, this), medicineInfo.description && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: medicineInfo.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 25\n      }, this), medicineInfo.uses && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Uses:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: medicineInfo.uses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 25\n      }, this), medicineInfo.dosage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Dosage:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: medicineInfo.dosage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }, this), medicineInfo.side_effects && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Side Effects:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: medicineInfo.side_effects\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }, this), medicineInfo.warnings && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Warnings:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: medicineInfo.warnings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n};\n_s(CameraScanner, \"D8CElnf7mU9kcejipDPwmNeqO3s=\");\n_c = CameraScanner;\nexport default CameraScanner;\nvar _c;\n$RefreshReg$(_c, \"CameraScanner\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraScanner","_s","videoRef","canvasRef","medicineInfo","setMedicineInfo","capturedImage","setCapturedImage","isLoading","setIsLoading","error","setError","cameraActive","setCameraActive","current","srcObject","tracks","getTracks","forEach","track","stop","startCamera","stream","navigator","mediaDevices","getUserMedia","video","facingMode","console","stopCamera","captureAndUploadImage","canvas","width","videoWidth","height","videoHeight","context","getContext","drawImage","imageDataUrl","toDataURL","toBlob","blob","formData","FormData","append","response","fetch","method","body","data","json","ok","Error","message","speakMedicineInfo","medicine","description","speakError","name","window","speechSynthesis","speech","SpeechSynthesisUtterance","text","lang","rate","speak","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","style","objectFit","src","alt","maxWidth","maxHeight","onClick","disabled","uses","dosage","side_effects","warnings","_c","$RefreshReg$"],"sources":["S:/New folder/medbuddy/src/components/CameraScanner.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\n\nconst CameraScanner = () => {\n    const videoRef = useRef(null);\n    const canvasRef = useRef(null);\n    const [medicineInfo, setMedicineInfo] = useState(null);\n    const [capturedImage, setCapturedImage] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [cameraActive, setCameraActive] = useState(false);\n\n    // Start camera automatically when component mounts\n    useEffect(() => {\n        return () => {\n            // Cleanup: stop tracks when component unmounts\n            if (videoRef.current && videoRef.current.srcObject) {\n                const tracks = videoRef.current.srcObject.getTracks();\n                tracks.forEach(track => track.stop());\n            }\n        };\n    }, []);\n\n    // Function to start the camera\n    const startCamera = async () => {\n        try {\n            // Stop any existing tracks\n            if (videoRef.current && videoRef.current.srcObject) {\n                const tracks = videoRef.current.srcObject.getTracks();\n                tracks.forEach(track => track.stop());\n            }\n\n            const stream = await navigator.mediaDevices.getUserMedia({ \n                video: { facingMode: \"environment\" } // Use back camera if available\n            });\n            \n            if (videoRef.current) {\n                videoRef.current.srcObject = stream;\n                setCameraActive(true);\n                setError(null);\n            }\n        } catch (error) {\n            console.error(\"Error accessing camera:\", error);\n            setError(\"Failed to access camera. Please check permissions.\");\n            setCameraActive(false);\n        }\n    };\n\n    // Function to stop the camera\n    const stopCamera = () => {\n        if (videoRef.current && videoRef.current.srcObject) {\n            const tracks = videoRef.current.srcObject.getTracks();\n            tracks.forEach(track => track.stop());\n            videoRef.current.srcObject = null;\n            setCameraActive(false);\n        }\n    };\n\n    // Function to capture and process the image\n    const captureAndUploadImage = async () => {\n        setIsLoading(true);\n        setError(null);\n        \n        const canvas = canvasRef.current;\n        const video = videoRef.current;\n\n        if (canvas && video) {\n            try {\n                // Set canvas dimensions to match the video\n                canvas.width = video.videoWidth;\n                canvas.height = video.videoHeight;\n                \n                const context = canvas.getContext(\"2d\");\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n                // Get the image data URL and set it to state\n                const imageDataUrl = canvas.toDataURL(\"image/jpeg\");\n                setCapturedImage(imageDataUrl);\n\n                canvas.toBlob(async (blob) => {\n                    const formData = new FormData();\n                    formData.append(\"image\", blob, \"medicine.jpg\");\n\n                    try {\n                        const response = await fetch(\"http://localhost:5000/upload\", {\n                            method: \"POST\",\n                            body: formData,\n                        });\n\n                        const data = await response.json();\n                        \n                        if (!response.ok) {\n                            throw new Error(data.message || \"Failed to process the image\");\n                        }\n                        \n                        setMedicineInfo(data);\n                        speakMedicineInfo(data.medicine, data.description);\n                        setIsLoading(false);\n                    } catch (error) {\n                        console.error(\"Error uploading image:\", error);\n                        setError(error.message || \"Failed to process the image\");\n                        setIsLoading(false);\n                        speakError();\n                    }\n                }, \"image/jpeg\", 0.9);\n            } catch (error) {\n                console.error(\"Error capturing image:\", error);\n                setError(\"Failed to capture image\");\n                setIsLoading(false);\n                speakError();\n            }\n        }\n    };\n\n    // Function to convert medicine name and info to speech\n    const speakMedicineInfo = (name, description) => {\n        if (!window.speechSynthesis) return;\n        \n        const speech = new SpeechSynthesisUtterance();\n        if (name) {\n            speech.text = `The medicine is ${name}. ${description ? \"Description: \" + description : \"No additional details available.\"}`;\n        } else {\n            speech.text = \"Unable to identify the medicine.\";\n        }\n        speech.lang = \"en-US\";\n        speech.rate = 1;\n        window.speechSynthesis.speak(speech);\n    };\n\n    // Function to speak error messages\n    const speakError = () => {\n        if (!window.speechSynthesis) return;\n        \n        const speech = new SpeechSynthesisUtterance();\n        speech.text = \"There was an error processing the image. Please try again with a clearer image.\";\n        speech.lang = \"en-US\";\n        window.speechSynthesis.speak(speech);\n    };\n\n    return (\n        <div className=\"container mx-auto p-4\">\n            <h2 className=\"text-2xl font-bold mb-4 text-center\">Medicine Scanner</h2>\n            \n            <div className=\"mb-4 relative\">\n                <video \n                    ref={videoRef} \n                    autoPlay \n                    playsInline \n                    className={`w-full max-w-md mx-auto border-2 rounded-lg ${cameraActive ? 'block' : 'hidden'}`}\n                    style={{ height: \"300px\", objectFit: \"cover\" }}\n                ></video>\n                \n                <canvas \n                    ref={canvasRef} \n                    className=\"hidden\"\n                ></canvas>\n                \n                {capturedImage && !cameraActive && (\n                    <div className=\"mt-4 text-center\">\n                        <h3 className=\"text-lg font-semibold mb-2\">Captured Image:</h3>\n                        <img \n                            src={capturedImage} \n                            alt=\"Captured\" \n                            className=\"mx-auto border rounded-lg shadow-md\"\n                            style={{ maxWidth: \"100%\", maxHeight: \"300px\" }}\n                        />\n                    </div>\n                )}\n                \n                {isLoading && (\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 rounded-lg\">\n                        <div className=\"text-white\">Processing...</div>\n                    </div>\n                )}\n            </div>\n            \n            <div className=\"flex justify-center gap-4 mb-4\">\n                {!cameraActive ? (\n                    <button \n                        onClick={startCamera} \n                        className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg\"\n                    >\n                        Start Camera\n                    </button>\n                ) : (\n                    <>\n                        <button \n                            onClick={captureAndUploadImage} \n                            className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg\"\n                            disabled={isLoading}\n                        >\n                            Scan Medicine\n                        </button>\n                        <button \n                            onClick={stopCamera} \n                            className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg\"\n                            disabled={isLoading}\n                        >\n                            Stop Camera\n                        </button>\n                    </>\n                )}\n            </div>\n            \n            {error && (\n                <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\">\n                    <p>{error}</p>\n                </div>\n            )}\n            \n            {medicineInfo && (\n                <div className=\"bg-white p-4 rounded-lg shadow-md\">\n                    <h3 className=\"text-xl font-bold mb-2\">{medicineInfo.medicine}</h3>\n                    \n                    {medicineInfo.description && (\n                        <div className=\"mb-2\">\n                            <p className=\"font-semibold\">Description:</p>\n                            <p>{medicineInfo.description}</p>\n                        </div>\n                    )}\n                    \n                    {medicineInfo.uses && (\n                        <div className=\"mb-2\">\n                            <p className=\"font-semibold\">Uses:</p>\n                            <p>{medicineInfo.uses}</p>\n                        </div>\n                    )}\n                    \n                    {medicineInfo.dosage && (\n                        <div className=\"mb-2\">\n                            <p className=\"font-semibold\">Dosage:</p>\n                            <p>{medicineInfo.dosage}</p>\n                        </div>\n                    )}\n                    \n                    {medicineInfo.side_effects && (\n                        <div className=\"mb-2\">\n                            <p className=\"font-semibold\">Side Effects:</p>\n                            <p>{medicineInfo.side_effects}</p>\n                        </div>\n                    )}\n                    \n                    {medicineInfo.warnings && (\n                        <div>\n                            <p className=\"font-semibold\">Warnings:</p>\n                            <p>{medicineInfo.warnings}</p>\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default CameraScanner;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3D,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMU,SAAS,GAAGV,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACY,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;;EAEvD;EACAC,SAAS,CAAC,MAAM;IACZ,OAAO,MAAM;MACT;MACA,IAAIO,QAAQ,CAACY,OAAO,IAAIZ,QAAQ,CAACY,OAAO,CAACC,SAAS,EAAE;QAChD,MAAMC,MAAM,GAAGd,QAAQ,CAACY,OAAO,CAACC,SAAS,CAACE,SAAS,CAAC,CAAC;QACrDD,MAAM,CAACE,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MACzC;IACJ,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACA;MACA,IAAInB,QAAQ,CAACY,OAAO,IAAIZ,QAAQ,CAACY,OAAO,CAACC,SAAS,EAAE;QAChD,MAAMC,MAAM,GAAGd,QAAQ,CAACY,OAAO,CAACC,SAAS,CAACE,SAAS,CAAC,CAAC;QACrDD,MAAM,CAACE,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MACzC;MAEA,MAAME,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QACrDC,KAAK,EAAE;UAAEC,UAAU,EAAE;QAAc,CAAC,CAAC;MACzC,CAAC,CAAC;MAEF,IAAIzB,QAAQ,CAACY,OAAO,EAAE;QAClBZ,QAAQ,CAACY,OAAO,CAACC,SAAS,GAAGO,MAAM;QACnCT,eAAe,CAAC,IAAI,CAAC;QACrBF,QAAQ,CAAC,IAAI,CAAC;MAClB;IACJ,CAAC,CAAC,OAAOD,KAAK,EAAE;MACZkB,OAAO,CAAClB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CC,QAAQ,CAAC,oDAAoD,CAAC;MAC9DE,eAAe,CAAC,KAAK,CAAC;IAC1B;EACJ,CAAC;;EAED;EACA,MAAMgB,UAAU,GAAGA,CAAA,KAAM;IACrB,IAAI3B,QAAQ,CAACY,OAAO,IAAIZ,QAAQ,CAACY,OAAO,CAACC,SAAS,EAAE;MAChD,MAAMC,MAAM,GAAGd,QAAQ,CAACY,OAAO,CAACC,SAAS,CAACE,SAAS,CAAC,CAAC;MACrDD,MAAM,CAACE,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MACrClB,QAAQ,CAACY,OAAO,CAACC,SAAS,GAAG,IAAI;MACjCF,eAAe,CAAC,KAAK,CAAC;IAC1B;EACJ,CAAC;;EAED;EACA,MAAMiB,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACtCrB,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAMoB,MAAM,GAAG5B,SAAS,CAACW,OAAO;IAChC,MAAMY,KAAK,GAAGxB,QAAQ,CAACY,OAAO;IAE9B,IAAIiB,MAAM,IAAIL,KAAK,EAAE;MACjB,IAAI;QACA;QACAK,MAAM,CAACC,KAAK,GAAGN,KAAK,CAACO,UAAU;QAC/BF,MAAM,CAACG,MAAM,GAAGR,KAAK,CAACS,WAAW;QAEjC,MAAMC,OAAO,GAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC;QACvCD,OAAO,CAACE,SAAS,CAACZ,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEK,MAAM,CAACC,KAAK,EAAED,MAAM,CAACG,MAAM,CAAC;;QAE3D;QACA,MAAMK,YAAY,GAAGR,MAAM,CAACS,SAAS,CAAC,YAAY,CAAC;QACnDjC,gBAAgB,CAACgC,YAAY,CAAC;QAE9BR,MAAM,CAACU,MAAM,CAAC,MAAOC,IAAI,IAAK;UAC1B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;UAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,EAAE,cAAc,CAAC;UAE9C,IAAI;YACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;cACzDC,MAAM,EAAE,MAAM;cACdC,IAAI,EAAEN;YACV,CAAC,CAAC;YAEF,MAAMO,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;YAElC,IAAI,CAACL,QAAQ,CAACM,EAAE,EAAE;cACd,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,6BAA6B,CAAC;YAClE;YAEAjD,eAAe,CAAC6C,IAAI,CAAC;YACrBK,iBAAiB,CAACL,IAAI,CAACM,QAAQ,EAAEN,IAAI,CAACO,WAAW,CAAC;YAClDhD,YAAY,CAAC,KAAK,CAAC;UACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;YACZkB,OAAO,CAAClB,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;YAC9CC,QAAQ,CAACD,KAAK,CAAC4C,OAAO,IAAI,6BAA6B,CAAC;YACxD7C,YAAY,CAAC,KAAK,CAAC;YACnBiD,UAAU,CAAC,CAAC;UAChB;QACJ,CAAC,EAAE,YAAY,EAAE,GAAG,CAAC;MACzB,CAAC,CAAC,OAAOhD,KAAK,EAAE;QACZkB,OAAO,CAAClB,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CC,QAAQ,CAAC,yBAAyB,CAAC;QACnCF,YAAY,CAAC,KAAK,CAAC;QACnBiD,UAAU,CAAC,CAAC;MAChB;IACJ;EACJ,CAAC;;EAED;EACA,MAAMH,iBAAiB,GAAGA,CAACI,IAAI,EAAEF,WAAW,KAAK;IAC7C,IAAI,CAACG,MAAM,CAACC,eAAe,EAAE;IAE7B,MAAMC,MAAM,GAAG,IAAIC,wBAAwB,CAAC,CAAC;IAC7C,IAAIJ,IAAI,EAAE;MACNG,MAAM,CAACE,IAAI,GAAG,mBAAmBL,IAAI,KAAKF,WAAW,GAAG,eAAe,GAAGA,WAAW,GAAG,kCAAkC,EAAE;IAChI,CAAC,MAAM;MACHK,MAAM,CAACE,IAAI,GAAG,kCAAkC;IACpD;IACAF,MAAM,CAACG,IAAI,GAAG,OAAO;IACrBH,MAAM,CAACI,IAAI,GAAG,CAAC;IACfN,MAAM,CAACC,eAAe,CAACM,KAAK,CAACL,MAAM,CAAC;EACxC,CAAC;;EAED;EACA,MAAMJ,UAAU,GAAGA,CAAA,KAAM;IACrB,IAAI,CAACE,MAAM,CAACC,eAAe,EAAE;IAE7B,MAAMC,MAAM,GAAG,IAAIC,wBAAwB,CAAC,CAAC;IAC7CD,MAAM,CAACE,IAAI,GAAG,iFAAiF;IAC/FF,MAAM,CAACG,IAAI,GAAG,OAAO;IACrBL,MAAM,CAACC,eAAe,CAACM,KAAK,CAACL,MAAM,CAAC;EACxC,CAAC;EAED,oBACIjE,OAAA;IAAKuE,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBAClCxE,OAAA;MAAIuE,SAAS,EAAC,qCAAqC;MAAAC,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEzE5E,OAAA;MAAKuE,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC1BxE,OAAA;QACI6E,GAAG,EAAExE,QAAS;QACdyE,QAAQ;QACRC,WAAW;QACXR,SAAS,EAAE,+CAA+CxD,YAAY,GAAG,OAAO,GAAG,QAAQ,EAAG;QAC9FiE,KAAK,EAAE;UAAE3C,MAAM,EAAE,OAAO;UAAE4C,SAAS,EAAE;QAAQ;MAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eAET5E,OAAA;QACI6E,GAAG,EAAEvE,SAAU;QACfiE,SAAS,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CAAC,EAETnE,aAAa,IAAI,CAACM,YAAY,iBAC3Bf,OAAA;QAAKuE,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC7BxE,OAAA;UAAIuE,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/D5E,OAAA;UACIkF,GAAG,EAAEzE,aAAc;UACnB0E,GAAG,EAAC,UAAU;UACdZ,SAAS,EAAC,qCAAqC;UAC/CS,KAAK,EAAE;YAAEI,QAAQ,EAAE,MAAM;YAAEC,SAAS,EAAE;UAAQ;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CACR,EAEAjE,SAAS,iBACNX,OAAA;QAAKuE,SAAS,EAAC,wFAAwF;QAAAC,QAAA,eACnGxE,OAAA;UAAKuE,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAEN5E,OAAA;MAAKuE,SAAS,EAAC,gCAAgC;MAAAC,QAAA,EAC1C,CAACzD,YAAY,gBACVf,OAAA;QACIsF,OAAO,EAAE9D,WAAY;QACrB+C,SAAS,EAAC,+DAA+D;QAAAC,QAAA,EAC5E;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,gBAET5E,OAAA,CAAAE,SAAA;QAAAsE,QAAA,gBACIxE,OAAA;UACIsF,OAAO,EAAErD,qBAAsB;UAC/BsC,SAAS,EAAC,iEAAiE;UAC3EgB,QAAQ,EAAE5E,SAAU;UAAA6D,QAAA,EACvB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT5E,OAAA;UACIsF,OAAO,EAAEtD,UAAW;UACpBuC,SAAS,EAAC,6DAA6D;UACvEgB,QAAQ,EAAE5E,SAAU;UAAA6D,QAAA,EACvB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,eACX;IACL;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EAEL/D,KAAK,iBACFb,OAAA;MAAKuE,SAAS,EAAC,4DAA4D;MAAAC,QAAA,eACvExE,OAAA;QAAAwE,QAAA,EAAI3D;MAAK;QAAA4D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACb,CACR,EAEArE,YAAY,iBACTP,OAAA;MAAKuE,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAC9CxE,OAAA;QAAIuE,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAEjE,YAAY,CAACoD;MAAQ;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAElErE,YAAY,CAACqD,WAAW,iBACrB5D,OAAA;QAAKuE,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACjBxE,OAAA;UAAGuE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC7C5E,OAAA;UAAAwE,QAAA,EAAIjE,YAAY,CAACqD;QAAW;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CACR,EAEArE,YAAY,CAACiF,IAAI,iBACdxF,OAAA;QAAKuE,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACjBxE,OAAA;UAAGuE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACtC5E,OAAA;UAAAwE,QAAA,EAAIjE,YAAY,CAACiF;QAAI;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CACR,EAEArE,YAAY,CAACkF,MAAM,iBAChBzF,OAAA;QAAKuE,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACjBxE,OAAA;UAAGuE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACxC5E,OAAA;UAAAwE,QAAA,EAAIjE,YAAY,CAACkF;QAAM;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CACR,EAEArE,YAAY,CAACmF,YAAY,iBACtB1F,OAAA;QAAKuE,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACjBxE,OAAA;UAAGuE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC9C5E,OAAA;UAAAwE,QAAA,EAAIjE,YAAY,CAACmF;QAAY;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CACR,EAEArE,YAAY,CAACoF,QAAQ,iBAClB3F,OAAA;QAAAwE,QAAA,gBACIxE,OAAA;UAAGuE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC1C5E,OAAA;UAAAwE,QAAA,EAAIjE,YAAY,CAACoF;QAAQ;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACxE,EAAA,CAzPID,aAAa;AAAAyF,EAAA,GAAbzF,aAAa;AA2PnB,eAAeA,aAAa;AAAC,IAAAyF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}